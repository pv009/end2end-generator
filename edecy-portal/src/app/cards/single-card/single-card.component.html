<div class="mat-typography single-card border-round" [ngClass]="{'card-full-view': fullView === true}">
    <div class="fullview-button" *ngIf="!userCard" fxLayoutAlign="center center" fxLayout="column">
        <mat-icon *ngIf="fullView" (click)="fullView = false">keyboard_arrow_up
        </mat-icon>
        <mat-icon *ngIf="!fullView" (click)="fullView = true">keyboard_arrow_down
        </mat-icon>
    </div>
    <div class="card-infos">

        <div class="card-image" *ngIf="cardToDisplay.pictureURL !== ''; else dummyPic" (click)="openCard()">
            <img src="{{ cardToDisplay.pictureURL }}" />
        </div>
        <ng-template #dummyPic>
            <div class="card-image" (click)="openCard()">
                <img src="../../../assets/images/card_nopicture.jpg" />
            </div>
        </ng-template>
        <div class="card-container" fxLayout="row" fxLayoutAlign="start start"
            [ngClass]="{'lower-padding': fullView === true}">
            <div class="text-infos">
                <h2 (click)="openCard()" [ngClass]="{'full-view': fullView === true}">{{ cardToDisplay.title }}</h2>
                <div class="searching-for">
                        <h3>Gesucht wird:</h3>
                        <mat-chip-list fxLayout="row" *ngIf="cardToDisplay.projectType !== '' ||
                        cardToDisplay.partnerCompanyType.length > 0 ||
                        cardToDisplay.partnerInstituteType.length > 0; else noSearchingFor">
                            <mat-chip style="margin-right: 5px" class="darkblue"
                                *ngIf="cardToDisplay.projectType !== ''">
                                {{ cardToDisplay.projectType }}
                            </mat-chip>
                            <mat-chip *ngFor="let companyType of cardToDisplay.partnerCompanyType"
                                style="margin-right: 5px" class="darkblue">
                                {{ companyType }}
                            </mat-chip>
                            <mat-chip *ngFor="let instituteType of cardToDisplay.partnerInstituteType"
                                style="margin-right: 5px" class="darkblue">
                                {{ instituteType }}
                            </mat-chip>
                        </mat-chip-list>
                        <ng-template #noSearchingFor>
                            <h3 style="font-weight: 500 !important">keine Angabe</h3>
                        </ng-template>
                </div>

                <h3 *ngIf="cardToDisplay.specialty1 !== ''">Schwerpunkt:</h3>
                <h3 *ngIf="cardToDisplay.specialty1 !== ''" style="font-weight: 500 !important">
                    {{ cardToDisplay.specialty1 }}</h3>
            </div>
            <div class="icon-container border-round" fxLayout="column" fxLayoutAlign="center center"
                *ngIf="cardToDisplay.specialty1 !== ''">
                <mat-icon svgIcon="interdizwhite" *ngIf="cardToDisplay.specialty1 === 'Interdisziplinäres'">
                </mat-icon>
                <mat-icon svgIcon="rechtswissenschaftenwhite"
                    *ngIf="cardToDisplay.specialty1 === 'Rechtswissenschaften, Jurisprudenz'">
                </mat-icon>
                <mat-icon svgIcon="wirtschaftwhite" *ngIf="cardToDisplay.specialty1 === 'Wirtschaftswissenschaften'">
                </mat-icon>
                <mat-icon svgIcon="naturwissenschaftenwhite" *ngIf="cardToDisplay.specialty1 === 'Naturwissenschaften'">
                </mat-icon>
                <mat-icon svgIcon="informationsw-mathewhite"
                    *ngIf="cardToDisplay.specialty1 === 'Informationswissenschaften und Mathematik'">
                </mat-icon>
                <mat-icon svgIcon="medizintechnikwhite" *ngIf="cardToDisplay.specialty1 === 'Medizintechnik'">
                </mat-icon>
                <mat-icon svgIcon="ingenieurwhite" *ngIf="cardToDisplay.specialty1 === 'Ingenieurswissenschaften'">
                </mat-icon>
            </div>
        </div>

        <div class="fullview-infos" *ngIf="fullView">
            <h3 *ngIf="cardToDisplay.tags.length > 0">Schlagworte:</h3>
            <mat-chip-list fxLayout="row" [ngClass]="{'full-view': fullView === true}"
                *ngIf="cardToDisplay.tags.length > 0">
                <ng-container *ngFor="let tag of cardToDisplay.tags; let i = index">
                    <mat-chip style="margin-right: 5px" (click)="searchTag(tag)" [ngClass]="{'lightblue': i > 2}">
                        {{ tag }}
                    </mat-chip>
                </ng-container>
            </mat-chip-list>

            <h3 *ngIf="cardToDisplay.projectCity !== ''">Projektstandort:</h3>
            <h3 *ngIf="cardToDisplay.projectCity !== ''">{{ cardToDisplay.projectCity }}</h3>
            <h3 *ngIf="cardToDisplay.partnerRange !== ''">Gewünschter Standort des Partners:</h3>
            <h3 *ngIf="cardToDisplay.partnerRange !== ''">{{ cardToDisplay.partnerRange }}</h3>
            <div fxLayout="column" fxLayoutAlign="center center">
                <button mat-raised-button color="primary" (click)="openCard()">Gesuch anzeigen</button>
            </div>

        </div>
    </div>


    <div class="action-buttons" *ngIf="userCard" fxLayout="row" fxLayoutAlign="center center" fxLayoutGap="10px">
        <button (click)="editCard()" matTooltip="Bearbeiten" class="shadowed-short" fxLayout="column"
            fxLayoutAlign="center center">
            <mat-icon color="secondary">edit</mat-icon>
        </button>
        <button (click)="publishCard()" *ngIf="cardToDisplay.status === 'saved'" matTooltip="Veröffentlichen"
            class="shadowed-short" fxLayout="column" fxLayoutAlign="center center">
            <mat-icon color="secondary">publish</mat-icon>
        </button>
        <button (click)="dePublishCard()" *ngIf="cardToDisplay.status === 'published'"
            matTooltip="Veröffentlichung zurücknehmen" class="shadowed-short" fxLayout="column"
            fxLayoutAlign="center center">
            <mat-icon color="secondary">stop_screen_share</mat-icon>
        </button>
        <button (click)="deleteCard()" matTooltip="Löschen" class="shadowed-short" fxLayout="column"
            fxLayoutAlign="center center">
            <mat-icon color="secondary">delete</mat-icon>
        </button>
        <button (click)="openEdecyInfoDialog()" matTooltip="Info" class="shadowed-short" fxLayout="column"
            fxLayoutAlign="center center">
            <mat-icon color="secondary">emoji_people</mat-icon>
        </button>

    </div>
</div>